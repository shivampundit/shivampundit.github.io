<!DOCTYPE HTML><html lang=en class="sidebar-visible no-js light"><head><meta charset=UTF-8><title>Importing and creating modules - 100 Page Python Intro</title><meta content="text/html; charset=utf-8"http-equiv=Content-Type><meta name=description content="Short, introductory guide for the Python programming language"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=theme-color content=#ffffff><link rel=icon href=favicon.svg><link rel="shortcut icon"href=favicon.png><link rel=stylesheet href=css/variables.css><link rel=stylesheet href=css/general.css><link rel=stylesheet href=css/chrome.css><link rel=stylesheet href=FontAwesome/css/font-awesome.css><link rel=stylesheet href=fonts/fonts.css><link rel=stylesheet href=highlight.css><link rel=stylesheet href=tomorrow-night.css><link rel=stylesheet href=ayu-highlight.css><link rel=stylesheet href=style.css><body><script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script><script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script><script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script><script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script><nav id=sidebar class=sidebar aria-label="Table of contents"><div class=sidebar-scrollbox><ol class=chapter><li class="chapter-item expanded affix"><a href=cover.html>Cover</a><li class="chapter-item expanded affix"><a href=buy.html>Buy PDF/EPUB versions</a><li class="chapter-item expanded"><a href=preface.html><strong aria-hidden=true>1.</strong> Preface</a><li class="chapter-item expanded"><a href=introduction.html><strong aria-hidden=true>2.</strong> Introduction</a><li class="chapter-item expanded"><a href=numeric-data-types.html><strong aria-hidden=true>3.</strong> Numeric data types</a><li class="chapter-item expanded"><a href=strings-and-user-input.html><strong aria-hidden=true>4.</strong> Strings and user input</a><li class="chapter-item expanded"><a href=defining-functions.html><strong aria-hidden=true>5.</strong> Defining functions</a><li class="chapter-item expanded"><a href=control-structures.html><strong aria-hidden=true>6.</strong> Control structures</a><li class="chapter-item expanded"><a href=importing-and-creating-modules.html class=active><strong aria-hidden=true>7.</strong> Importing and creating modules</a><li class="chapter-item expanded"><a href=installing-modules-and-virtual-environments.html><strong aria-hidden=true>8.</strong> Installing modules and Virtual environments</a><li class="chapter-item expanded"><a href=exception-handling.html><strong aria-hidden=true>9.</strong> Exception handling</a><li class="chapter-item expanded"><a href=debugging.html><strong aria-hidden=true>10.</strong> Debugging</a><li class="chapter-item expanded"><a href=testing.html><strong aria-hidden=true>11.</strong> Testing</a><li class="chapter-item expanded"><a href=tuple-and-sequence-operations.html><strong aria-hidden=true>12.</strong> Tuple and Sequence operations</a><li class="chapter-item expanded"><a href=list.html><strong aria-hidden=true>13.</strong> List</a><li class="chapter-item expanded"><a href=mutability.html><strong aria-hidden=true>14.</strong> Mutability</a><li class="chapter-item expanded"><a href=dict.html><strong aria-hidden=true>15.</strong> Dict</a><li class="chapter-item expanded"><a href=set.html><strong aria-hidden=true>16.</strong> Set</a><li class="chapter-item expanded"><a href=text-processing.html><strong aria-hidden=true>17.</strong> Text processing</a><li class="chapter-item expanded"><a href=comprehensions-and-generator-expressions.html><strong aria-hidden=true>18.</strong> Comprehensions and Generator expressions</a><li class="chapter-item expanded"><a href=dealing-with-files.html><strong aria-hidden=true>19.</strong> Dealing with files</a><li class="chapter-item expanded"><a href=executing-external-commands.html><strong aria-hidden=true>20.</strong> Executing external commands</a><li class="chapter-item expanded"><a href=command-line-arguments.html><strong aria-hidden=true>21.</strong> Command line arguments</a></li><br><hr><li class="chapter-item expanded"><i id=git-repository-button class="fa fa-github"></i><a href=https://github.com/learnbyexample/100_page_python_intro>   Source code</a><li class="chapter-item expanded"><i id=home-button class="fa fa-home"></i><a href=https://learnbyexample.github.io/>   My Blog</a><li class="chapter-item expanded"><i id=book-button class="fa fa-book"></i><a href=https://learnbyexample.github.io/books/>   My Books</a><li class="chapter-item expanded"><i id=mail-button class="fa fa-envelope"></i><a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>   learnbyexample weekly</a></ol></div><div id=sidebar-resize-handle class=sidebar-resize-handle></div></nav><div id=page-wrapper class=page-wrapper><div class=page><div id=menu-bar-hover-placeholder></div><div id=menu-bar class="menu-bar sticky bordered"><div class=left-buttons><button id=sidebar-toggle class=icon-button type=button title="Toggle Table of Contents"aria-label="Toggle Table of Contents"aria-controls=sidebar><i class="fa fa-bars"></i></button><button id=theme-toggle class=icon-button type=button title="Change theme"aria-label="Change theme"aria-haspopup=true aria-expanded=false aria-controls=theme-list><i class="fa fa-paint-brush"></i></button><ul id=theme-list class=theme-popup aria-label=Themes role=menu><li role=none><button role=menuitem class=theme id=light>Light (default)</button><li role=none><button role=menuitem class=theme id=rust>Rust</button><li role=none><button role=menuitem class=theme id=coal>Coal</button><li role=none><button role=menuitem class=theme id=navy>Navy</button><li role=none><button role=menuitem class=theme id=ayu>Ayu</button></ul><button id=search-toggle class=icon-button type=button title="Search. (Shortkey: s)"aria-label="Toggle Searchbar"aria-expanded=false aria-keyshortcuts=S aria-controls=searchbar><i class="fa fa-search"></i></button></div><h1 class=menu-title>100 Page Python Intro</h1><div class=right-buttons><a href=https://learnbyexample.github.io title=Blog aria-label=Blog> <i id=home-button class="fa fa-home"></i> </a><a href=https://github.com/learnbyexample/100_page_python_intro title="Git repository"aria-label="Git repository"> <i id=git-repository-button class="fa fa-github"></i> </a></div></div><div id=search-wrapper class=hidden><form id=searchbar-outer class=searchbar-outer><input type=search id=searchbar name=searchbar placeholder="Search this book ..."aria-controls=searchresults-outer aria-describedby=searchresults-header></form><div id=searchresults-outer class="searchresults-outer hidden"><div id=searchresults-header class=searchresults-header></div><ul id=searchresults></ul></div></div><script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script><div id=content class=content><main><div class=sidetoc><nav class=pagetoc></nav></div><h1 id=importing-and-creating-modules><a class=header href=#importing-and-creating-modules>Importing and creating modules</a></h1><p>The previous chapters focused on data types, functions (both built-in and user defined) and control structures. This chapter will show how to use built-in as well as user defined modules. Quoting from <a href=https://docs.python.org/3/tutorial/modules.html>docs.python: Modules</a>:<blockquote><p>A module is a file containing Python definitions and statements. The file name is the module name with the suffix <code>.py</code> appended.</blockquote><h2 id=random-numbers><a class=header href=#random-numbers>Random numbers</a></h2><p>Say you want to generate a random number from a given range for a guessing game. You could write your own random number generator. Or, you could save development/testing time, and make use of the <a href=https://docs.python.org/3/library/random.html>random</a> built-in module.<p>Here's an example guessing game.<pre><code class=language-python># rand_number.py
import random

# gives back an integer between 0 and 10 (inclusive)
rand_int = random.randrange(11)

print('I have thought of a number between 0 and 10.')
print('Can you guess it within 4 attempts?\n')
for _ in range(4):
    guess = int(input('Enter your guess: '))
    if guess == rand_int:
        print('Wow, you guessed it right!')
        break
    elif guess > rand_int:
        print('Oops, your guess is too high.')
    else:
        print('Oops, your guess is too low.')
else:
    print('\nOh no! You are out of chances. Better luck next time.')
</code></pre><p><code>import random</code> will load this built-in module for use in this script, you'll see more details about <code>import</code> later in this chapter. The <code>randrange()</code> method follows the same <code>start/stop/step</code> logic as the <code>range()</code> function and returns a random integer from the given range. The <code>for</code> loop is used here to get the user input for a maximum of <code>4</code> attempts. The loop body doesn't need to know the current iteration count. In such cases, <code>_</code> is used to indicate a throwaway variable name.<p>As mentioned in the previous chapter, <code>else</code> clause is supported by loops too. It is used to execute code if the loop is completed normally. If the user correctly guesses the random number, <code>break</code> will be executed, which is <em>not</em> a normal loop completion. In that case, the <code>else</code> clause will <em>not</em> be executed.<p>A sample run with correct guess is shown below.<pre><code class=language-bash>$ python3.9 rand_number.py
I have thought of a number between 0 and 10
Can you guess it within 4 attempts?

Enter your guess: 5
Oops, your guess is too low.
Enter your guess: 8
Oops, your guess is too high.
Enter your guess: 6
Wow, you guessed it right!
</code></pre><p>Here's a failed guess.<pre><code class=language-bash>$ python3.9 rand_number.py
I have thought of a number between 0 and 10.
Can you guess it within 4 attempts?

Enter your guess: 1
Oops, your guess is too low.
Enter your guess: 2
Oops, your guess is too low.
Enter your guess: 3
Oops, your guess is too low.
Enter your guess: 4
Oops, your guess is too low.

Oh no! You are out of chances. Better luck next time.
</code></pre><h2 id=importing-your-own-module><a class=header href=#importing-your-own-module>Importing your own module</a></h2><p>All the programs presented so far can be used as a module as it is without making further changes. However, that'll lead to some unwanted behavior. This section will discuss these issues and the next section will show how to resolve them.<pre><code class=language-python># num_funcs.py
def sqr(n):
    return n * n

def fact(n):
    total = 1
    for i in range(2, n+1):
        total *= i
    return total

num = 5
print(f'square of {num} is {sqr(num)}')
print(f'factorial of {num} is {fact(num)}')
</code></pre><p>The above program defines two functions, one variable and calls the <code>print()</code> function twice. After you've written this program, open an interactive shell from the same directory. Then, load the module using <code>import num_funcs</code> where <code>num_funcs</code> is the name of the program without the <code>.py</code> extension.<pre><code class=language-python>>>> import num_funcs
square of 5 is 25
factorial of 5 is 120
</code></pre><p>So what happened here? Not only did the <code>sqr</code> and <code>fact</code> functions get imported, the code outside of these functions got executed as well. That isn't what you'd expect on loading a module. Next section will show how to prevent this behavior. For now, continue the REPL session.<pre><code class=language-python>>>> num_funcs.sqr(12)
144
>>> num_funcs.fact(0)
1
>>> num_funcs.num
5
</code></pre><p>As an <strong>exercise</strong>,<ul><li>add docstrings for the above program and check the output of <code>help()</code> function using <code>num_funcs</code>, <code>num_funcs.fact</code>, etc as arguments.<li>check what would be the output of <code>num_funcs.fact()</code> for negative integers and floating-point numbers. Then import the <code>math</code> built-in module and repeat the process with <code>math.factorial()</code>. Go through the <a href=./exception-handling.html#exception-handling>Exception handling</a> chapter and modify the above program to gracefully handle negative integers and floating-point numbers.</ul><p>How does Python know where a module is located? Quoting from <a href=https://docs.python.org/3/tutorial/modules.html#the-module-search-path>docs.python: The Module Search Path</a>:<blockquote><p>When a module named <code>spam</code> is imported, the interpreter first searches for a built-in module with that name. If not found, it then searches for a file named <code>spam.py</code> in a list of directories given by the variable <code>sys.path</code>. <code>sys.path</code> is initialized from these locations:<p>• The directory containing the input script (or the current directory when no file is specified).<p>• PYTHONPATH (a list of directory names, with the same syntax as the shell variable PATH).<p>• The installation-dependent default.</blockquote><h2 id=__name__-special-variable><a class=header href=#__name__-special-variable>__name__ special variable</a></h2><p>The special variable <code>__name__</code> will be assigned the <em>string</em> value <code>'__main__'</code> only for the program file that is executed. The files that are imported inside another program will see their own filename (without the extension) as the value for the <code>__name__</code> variable. This behavior allows you to code a program that can act as a module as well as execute extra code if and only if it is run as the main program.<p>Here's an example to illustrate this behavior.<pre><code class=language-python># num_funcs_module.py
def sqr(n):
    return n * n

def fact(n):
    total = 1
    for i in range(2, n+1):
        total *= i
    return total

if __name__ == '__main__':
    num = 5
    print(f'square of {num} is {sqr(num)}')
    print(f'factorial of {num} is {fact(num)}')
</code></pre><p>When you run the above program as a standalone application, the <code>if</code> condition will get evaluated to <code>True</code>.<pre><code class=language-bash>$ python3.9 num_funcs_module.py
square of 5 is 25
factorial of 5 is 120
</code></pre><p>On importing, the above <code>if</code> condition will evaluate to <code>False</code> as <code>num_funcs_module.py</code> is no longer the main program. In the below example, the REPL session is the main program.<pre><code class=language-python>>>> __name__
'__main__'
>>> import num_funcs_module
>>> num_funcs_module.sqr(12)
144
>>> num_funcs_module.fact(0)
1

# 'num' variable inside the 'if' block is no longer accessible
>>> num_funcs_module.num
Traceback (most recent call last):
  File "&LTstdin>", line 1, in &LTmodule>
AttributeError: module 'num_funcs_module' has no attribute 'num'
</code></pre><blockquote><p><img src=./images/info.svg alt=info> In the above example, there are three statements that'll be executed if the program is run as the main program. It is common to put such statements under a <code>main()</code> user defined function and then call it inside the <code>if</code> block.</blockquote><blockquote><p><img src=./images/info.svg alt=info> There are many such special variables and methods with <strong>d</strong>ouble <strong>under</strong>scores around their names. They are also called as <strong>dunder</strong> variables and methods. See <a href=https://stackoverflow.com/q/419163/4082052>stackoverflow: __name__ special variable</a> for a detailed discussion and strange use cases.</blockquote><h2 id=different-ways-of-importing><a class=header href=#different-ways-of-importing>Different ways of importing</a></h2><p>When you use <code>import &LTmodule></code> statement, you'll have to prefix the module name whenever you need to use its features. If this becomes cumbersome, you can use alternate ways of importing.<p>First up, removing the prefix altogether as shown below. This will load all names from the module except those beginning with a <code>_</code> character. Use this feature only if needed, one of the other alternatives might suit better.<pre><code class=language-python>>>> from math import *
>>> sin(radians(90))
1.0
>>> pi
3.141592653589793
</code></pre><p>Instead of using <code>*</code>, a comma separated list of names is usually enough.<pre><code class=language-python>>>> from random import randrange
>>> randrange(3, 10, 2)
9

>>> from math import cos, pi
>>> cos(pi)
-1.0
</code></pre><p>You can also alias the name being imported using the <code>as</code> keyword. You can specify multiple aliases with comma separation.<pre><code class=language-python>>>> import random as rd
>>> rd.randrange(4)
1

>>> from math import factorial as fact
>>> fact(10)
3628800
</code></pre><h2 id=__pycache__-directory><a class=header href=#__pycache__-directory>__pycache__ directory</a></h2><p>If you notice the <code>__pycache__</code> directory after you import your own module, <strong>don't panic</strong>. Quoting from <a href=https://docs.python.org/3/tutorial/modules.html#compiled-python-files>docs.python: Compiled Python files</a>:<blockquote><p>To speed up loading modules, Python caches the compiled version of each module in the <code>__pycache__</code> directory under the name <code>module.version.pyc</code>, where the version encodes the format of the compiled file; it generally contains the Python version number. For example, in CPython release 3.3 the compiled version of spam.py would be cached as <code>__pycache__/spam.cpython-33.pyc</code>. This naming convention allows compiled modules from different releases and different versions of Python to coexist.</blockquote><p>You can use <code>python3.9 -B</code> if you do not wish the <code>__pycache__</code> directory to be created.<h2 id=explore-modules><a class=header href=#explore-modules>Explore modules</a></h2><ul><li><a href=https://docs.python.org/3/library/index.html>docs.python: The Python Standard Library</a><li><a href=https://github.com/vinta/awesome-python>github: awesome-python</a> — curated list of awesome Python frameworks, libraries, software and resources<li><a href=https://github.com/ml-tooling/best-of-python>github: best-of-python</a> — awesome Python open-source libraries & tools, updated weekly<li><a href=https://michael0x2a.com/blog/turtle-examples>Turtle examples</a> — a fun module to create graphical shapes, inspired from Logo</ul></main><nav class=nav-wrapper aria-label="Page navigation"><a rel=prev href=control-structures.html class="mobile-nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a><a rel=next href=installing-modules-and-virtual-environments.html class="mobile-nav-chapters next"title="Next chapter"aria-label="Next chapter"aria-keyshortcuts=Right> <i class="fa fa-angle-right"></i> </a><div style="clear: both"></div></nav></div></div><nav class=nav-wide-wrapper aria-label="Page navigation"><a rel=prev href=control-structures.html class="nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a><a rel=next href=installing-modules-and-virtual-environments.html class="nav-chapters next"title="Next chapter"aria-label="Next chapter"aria-keyshortcuts=Right> <i class="fa fa-angle-right"></i> </a></nav></div><script>
            window.playground_copyable = true;
        </script><script src=elasticlunr.min.js charset=utf-8></script><script src=mark.min.js charset=utf-8></script><script src=searcher.js charset=utf-8></script><script src=clipboard.min.js charset=utf-8></script><script src=highlight.js charset=utf-8></script><script src=book.js charset=utf-8></script><script src=sidebar.js></script>